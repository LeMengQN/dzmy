import{f as e,g as t,n as a,i as s,a as l,r as i,t as o,$ as n,aj as r,ak as c,w as d,k as u,v as m,l as f,p,q as g,u as y,F as _,x as D,m as T,z as w,j as v,C as b}from"./index.1a866322.js";import{_ as h}from"./plugin-vue_export-helper.21dcd24c.js";import{o as L,r as k}from"./uni-app.es.5638d019.js";import{n as x}from"./methods.10d71805.js";import{u as I}from"./useState.33e874ff.js";import{t as A}from"./tabar.9597bd6f.js";import"./index.0e6263ad.js";/* empty css                                                          */var G=h({name:"u-gap",props:{bgColor:{type:String,default:"transparent "},height:{type:[String,Number],default:30},marginTop:{type:[String,Number],default:0},marginBottom:{type:[String,Number],default:0}},computed:{gapStyle(){return{backgroundColor:this.bgColor,height:this.height+"rpx",marginTop:this.marginTop+"rpx",marginBottom:this.marginBottom+"rpx"}}}},[["render",function(l,i,o,n,r,c){const d=s;return e(),t(d,{class:"u-gap",style:a([c.gapStyle])},null,8,["style"])}],["__scopeId","data-v-0a83ca6e"]]);var K=h({__name:"index",setup(h){const K=h,j=I(["islogin","userinfo","MerchantId"]),C=l(50),{islogin:M,userinfo:B,MerchantId:S}=j,$=i({GetActivityListDate:{},GetLuckyDrawListDate:{},optionData:{}}),{GetActivityListDate:z,GetLuckyDrawListDate:E,optionData:N}=o($),P=l(0);async function F(e){console.log(e),P.value=e;const t={merchantId:$.optionData.MerchantId,PageIndex:1,PageSize:100};let a=await r(t);$.GetActivityListDate=a.Result;for(let l in $.GetActivityListDate){$.GetActivityListDate[l].TimeK="";var s=Date.now();console.log("hah",s);let e=new Date($.GetActivityListDate[l].BeginTime).getTime();let t=new Date($.GetActivityListDate[l].EndTime).getTime();s<e?$.GetActivityListDate[l].TimeK="未开始":s>t?$.GetActivityListDate[l].TimeK="已结束":!(s>e&&s<t)||($.GetActivityListDate[l].TimeK="进行中")}console.log("baga",a)}async function R(e){console.log(e),P.value=e;const t={merchantId:$.optionData.MerchantId,PageIndex:1,PageSize:100};let a=await c(t);$.GetLuckyDrawListDate=a.Result;for(let l in $.GetLuckyDrawListDate){$.GetLuckyDrawListDate[l].TimeK="";var s=Date.now();let e=new Date($.GetLuckyDrawListDate[l].BeginTime).getTime();let t=new Date($.GetLuckyDrawListDate[l].EndTime).getTime();s<e?$.GetLuckyDrawListDate[l].TimeK="未开始":s>t?$.GetLuckyDrawListDate[l].TimeK="已结束":!(s>e&&s<t)||($.GetLuckyDrawListDate[l].TimeK="进行中")}console.log("baga1",a)}l(0),L((e=>{console.log("路由信息",e),e&&e.MerchantId?(n.commit("MerchantId",e.MerchantId),$.optionData=e,F(0),R(0|$.optionData.navIndex)):location.replace("https://appwx.xuezhilian.com/xzb/index.html#/pages/error/404")}));const U=e=>{C.value=e,console.log("bar高度===>",e)};return(l,i)=>{const o=s,n=b,r=k(D("u-gap"),G);return e(),t(o,{class:"page",style:a(`padding-bottom: ${C.value+30}px;`)},{default:d((()=>[u(o,{class:"flex justify-around pt-2 pb-3"},{default:d((()=>[u(o,{class:m(["title font-weight-bold pl-2 box-border",["nav-item",0==P.value?"nav-item-true":""]]),onClick:i[0]||(i[0]=e=>R(0))},{default:d((()=>[f("抽奖 ")])),_:1},8,["class"]),u(o,{class:m(["title font-weight-bold pl-2 box-border",["nav-item",1==P.value?"nav-item-true":""]]),onClick:i[1]||(i[1]=e=>F(1))},{default:d((()=>[f("活动")])),_:1},8,["class"])])),_:1}),0==P.value?(e(),t(o,{key:0},{default:d((()=>[(e(!0),p(_,null,g(y(E),((a,s)=>(e(),t(o,{class:"class-list",key:s,onClick:e=>y(x)(`/pages/Bingogame/Luckydraw?Id=${a.Id}&MerchantId=${y(S)}`)},{default:d((()=>[u(o,{class:"flex marb"},{default:d((()=>[u(o,{class:"w-50 box-border pb-1"},{default:d((()=>[u(n,{class:"class-list_imgs rounded-lg",src:a.Img,mode:"scaleToFill"},null,8,["src"])])),_:2},1024),u(o,null,{default:d((()=>[u(o,{class:"Awds-1"},{default:d((()=>[f(T(a.Name),1)])),_:2},1024),u(o,{class:"Awds-2"},{default:d((()=>[f(" 抽奖开始: "+T(a.BeginTimes),1)])),_:2},1024),u(o,{class:"Awds-2"},{default:d((()=>[f(" 抽奖截止: "+T(a.EndTimes),1)])),_:2},1024),u(o,null,{default:d((()=>[u(o,null,{default:d((()=>[w("p",{class:"Awds-3"},T(a.TimeK),1)])),_:2},1024),u(o,{class:"flex justify-between widthp"},{default:d((()=>[u(o,{class:""},{default:d((()=>[w("p",{class:"Awds-4"},T(a.LKUserCount)+" 人已参与",1)])),_:2},1024),"已结束"!==a.TimeK?(e(),t(o,{key:0,class:"color-main mainType"},{default:d((()=>[f(" 去抽奖 ")])),_:1})):v("v-if",!0),"已结束"==a.TimeK?(e(),t(o,{key:1,class:"color-main mainTypetys"},{default:d((()=>[f(T("已结束"==a.TimeK?"已结束":"期待哦"),1)])),_:2},1024)):v("v-if",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(r,{height:"4","bg-color":"#f1f1f1","margin-bottom":"20","margin-top":"10"})])),_:2},1032,["onClick"])))),128))])),_:1})):(e(),t(o,{key:1},{default:d((()=>[(e(!0),p(_,null,g(y(z),((a,s)=>(e(),t(o,{class:"class-list",key:s,onClick:e=>y(x)(`/pages/Bingogame/activeall?Id=${a.Id}&MerchantId=${K.MerchantId}`)},{default:d((()=>[u(o,{class:"flex marb"},{default:d((()=>[u(o,{class:"flex flex-column w-50 box-border pb-1"},{default:d((()=>[u(n,{class:"class-list_imgs rounded-lg",src:a.Img,mode:"scaleToFill"},null,8,["src"])])),_:2},1024),u(o,null,{default:d((()=>[u(o,{class:"Awds-1"},{default:d((()=>[f(T(a.Title),1)])),_:2},1024),u(o,{class:"Awds-2"},{default:d((()=>[f(" 活动开始: "+T(a.BeginTimes),1)])),_:2},1024),u(o,{class:"Awds-2"},{default:d((()=>[f(" 活动截止: "+T(a.EndTimes),1)])),_:2},1024),u(o,null,{default:d((()=>[u(o,null,{default:d((()=>[w("p",{class:"Awds-3"},T(a.TimeK),1)])),_:2},1024),u(o,{class:"flex justify-between widthp"},{default:d((()=>[u(o,null,{default:d((()=>[w("p",{class:"Awds-4"},T(a.MKUserCount)+" 人已参与",1)])),_:2},1024),"已结束"!==a.TimeK&&0==a.IsApply?(e(),t(o,{key:0,class:"color-main mainType"},{default:d((()=>[f(" 去报名 ")])),_:1})):v("v-if",!0),"已结束"!==a.TimeK&&0!=a.IsApply?(e(),t(o,{key:1,class:"color-main mainTypeLO"},{default:d((()=>[f(" 已报名 ")])),_:1})):v("v-if",!0),"已结束"==a.TimeK?(e(),t(o,{key:2,class:"color-main mainTypetys"},{default:d((()=>[f(T("已结束"==a.TimeK?"已结束":"期待哦"),1)])),_:2},1024)):v("v-if",!0)])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024),u(r,{height:"4","bg-color":"#f1f1f1","margin-bottom":"20","margin-top":"10"})])),_:2},1032,["onClick"])))),128))])),_:1})),u(y(A),{current:2,disable:!0,onReady:U})])),_:1},8,["style"])}}},[["__scopeId","data-v-b63affd4"]]);export{K as default};
