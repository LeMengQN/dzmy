import{B as e,U as n,V as t,W as o,X as i,E as s,$ as a,Y as r,Z as l,_ as c,a0 as u,a1 as d,a2 as g,a3 as f,a4 as h}from"./index.1a866322.js";import{w as m}from"./index.0e6263ad.js";function p(e,n="-",t=new Date){let o=t.getTime();const i=864e5;let s="Month"==e?i:i*e;t.setTime(parseInt(o+s));let a=t.getFullYear(),r=(t.getMonth()+1).toString();r.length<=1&&(r="0"+r);let l="Month"==e?1:t.getDate().toString();return l.length<=1&&(l="0"+l),a+n+r+n+l}function w(e){return/^(((1[3456789][0-9]{1})|(15[0-9]{1}))+\d{8})$/.test(e)}function T(e){return/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/.test(e)}function x(e="check",n,t={}){if("check"==e){let e=!1,t=!1;const i=o(`smsTime_${n}`)||[];if(i.length>0){const n=function(e,n=new Date){if(e){const t=Math.abs(new Date(e).getTime()-n.getTime()),o=Math.floor(t/864e5),i=t%864e5,s=Math.floor(i/36e5),a=i%36e5,r=Math.floor(a/6e4),l=a%6e4,c=Math.round(l/1e3);return{day:o,hour:s,minute:r,second:c,zeroBool:r<=0&&c<=0}}return u({title:"开始时间未知",icon:"none"}),{}}(i[0]);n.hour>0||n.day>0?t=!0:i.length>=3&&(e=!0)}return{spliceBool:t,over:e,list:i}}if("set"==e)return t.spliceBool&&t.list.splice(0,1),t.list.push(new Date),d(`smsTime_${n}`,t.list),!0}function v(e,n=0){let t=!1;if(e){const o=new Date(e).getTime();let i=(new Date).getTime();t=o<new Date(i-24*n*3600*1e3).getTime()}return t}function y(e={showCancel:!1,str:"",data:""},n){return console.log("登录方法===>",e,n),n?R(e):t({showCancel:e.showCancel||!1,content:e.str||"你未登录或登录已过期，请先登录！",success:n=>{n.confirm&&R(e)}}),!0}function R(e){let n=o("loginuser"),t=o("isNewUser");console.log("用户信息==>",n,"是否新用户==>",t,"传递信息==>",e.url),e.close?i({url:`../login/login?data=${e.data?""+e.data:""}&new=${t}&url=${e.url}`}):s({url:`../login/login?data=${e.data?""+e.data:""}&new=${t}&url=${e.url}`}),a.state.islogin=!1}function $(e){const n=e?JSON.stringify(e):"",t=n.indexOf(".");let o={integer:"0",integer:"00"};return t>-1?(o.integer=n.substring(0,t),o.decimal=n.substring(t+1,n.length)):o.integer=n,o}let M=!0;function S(e){"function"==typeof e&&M&&(M=!1,e(),setTimeout((()=>{M=!0}),500))}function k(){let e=r().platform;return"ios"==e?(console.log("我是ios"),"ios"):"android"==e?(console.log("我是安卓"),"android"):void 0}function B(e){g({phoneNumber:e})}function D(e){s({url:e})}function J(e,n){return e.split(n)}function W(n){let t;return e().select(`#${n}`).boundingClientRect((e=>{t=e.height})).exec(),t}function b(e,n){l({urls:Array.isArray(e)?e:[e],current:n||0})}function E(e){c({data:e,success:function(n){console.log("复制的信息：",e),u({icon:"none",title:"复制成功"})}})}function I(){var e=window.location.href;n(e).then((e=>{if(console.log("公众号配置===>",e),e&&e.Result){const n={debug:!1,appId:e.Result.appid,timestamp:e.Result.timestamp,nonceStr:e.Result.noncestr,signature:e.Result.signature,jsApiList:["hideMenuItems"]};m.config(n),m.ready((function(){console.log("js-sdk配置成功！"),m.hideOptionMenu()})),m.error((function(e){console.info("config信息验证失败"),console.info(e),"undefined"==typeof WeixinJSBridge?document.addEventListener?document.addEventListener("WeixinJSBridgeReady",O,!1):document.attachEvent&&(document.attachEvent("WeixinJSBridgeReady",O),document.attachEvent("onWeixinJSBridgeReady",O)):document.addEventListener("WeixinJSBridgeReady",O())}))}}))}function O(){WeixinJSBridge.call("hideOptionMenu")}function j(e,n){var t=(new Date).getTime(),i=o("loginuser"),s=e.indexOf("?")>0;const a=h.host.api;if(!n){var r=o("nologinSessionId");e+=s?"&sessionId="+r:"?sessionId="+r,s=!0}if(i&&i.token){-1===e.indexOf("token=")&&(e+=s?"&qqzitoken="+i.token:"?qqzitoken="+i.token,s=!0);var l=e.substring(a.length-1)+i.id+i.secret+t,c="secret="+f.md5(l)+"&ts="+t;e+=s?"&"+c:"?"+c}return e}export{T as I,p as T,S as a,$ as b,B as c,b as d,E as e,j as f,y as g,I as h,W as i,k as j,w as k,D as n,v as o,x as p,J as s};
