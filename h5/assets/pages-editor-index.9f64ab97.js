import{r as e,t,a,o as s,ab as l,ac as o,ad as n,ae as i,s as r,af as d,ag as c,ah as u,f as p,g as f,w as h,n as m,i as _,u as y,p as N,l as g,m as v,j as w,k as M,F as j,x as I}from"./index.1a866322.js";import{_ as b}from"./u-parse.58a54c5b.js";import{r as x}from"./uni-app.es.5638d019.js";import"./index.0e6263ad.js";import{t as J}from"./tabar.9597bd6f.js";import{u as S}from"./useState.33e874ff.js";import{w as T}from"./wechatSdk.8caabd54.js";import{_ as C}from"./plugin-vue_export-helper.21dcd24c.js";import"./methods.10d71805.js";/* empty css                                                          */var U=C({__name:"index",setup(C){const U=C;S(["islogin","userinfo"]);const E=e({detailNews:{}}),{detailNews:G}=t(E),k=a(50),X=a(!1),R=a(""),$=a(""),F=a("");function A(e){d();let t=window.location.href;console.log("分享信息==>",e),T({share_title:e.Title,share_desc:`${e.Title}${e.Address?e.Address:""}${e.MerchantName}`,share_link:t,share_cover:e.MerchantThumbnail||e.CoverImgUrl})}s((()=>{const{Id:e,Code:t,newsTitle:a}=U;!async function(e,t,a){console.log("init==>",e,t,a),e&&(R.value=e,$.value=t,F.value=a,"XXJSMENU"==t||"KCJSMENU"==t||"JGGGMENU"==t||"JSJSMENU"==t?await function(e,t,a){if(n({title:"加载中..."}),"JGGGMENU"==t)!function(){n({title:"加载中..."});let e={Id:1*U.Id,merchantId:U.MerchantId};u(e).then((e=>{const t=e.Result;"object"==typeof t&&(console.log("文章详情==>","object"==typeof t),t.length<=0?X.value=!0:(A(t[0]),E.detailNews=t[0],r({title:t[0].Title}))),d()})).catch((e=>{}))}();else if("JSJSMENU"==t);else{let e={queryField:"Id,MerchantId,Type,Title,Context",permission:"MerchantIntroduce",entityName:"MerchantIntroduce",whereField:JSON.stringify({MerchantId:U.Id,Type:"XXJSMENU"==U.Code?1:2,Status:2})};c(e).then((e=>{d();const t=e.Result;t&&"object"==typeof t&&(t.length<=0&&(X.value=!0),E.detailNews=t[0],r({title:t[0].Title}),A(t[0]))})).catch((e=>{}))}}(0,t):await function(e,t,a){n({title:"加载中..."}),i({Id:e,review:-1}).then((s=>{const l=s.Result;"object"==typeof l&&(l.length<=0&&(X.value=!0),E.detailNews={Id:e,NewCode:t,newsTitle:a,...l}),r({title:l.Title}),d(),A(l)})).then((e=>{}))}(e,$,a))}(e,t,a)})),l((()=>{o()}));const K=e=>{k.value=e,console.log("bar高度===>",e)};return(e,t)=>{const a=_,s=x(I("u-parse"),b);return p(),f(a,{class:"page editor",style:m(`padding-bottom: ${k.value+50}px;`)},{default:h((()=>[y(G)&&y(G).Context?(p(),N(j,{key:0},[y(G).Title&&"XXJSMENU"!=U.Code&&"KCJSMENU"!=U.Code?(p(),f(a,{key:0,class:"titleDiv titleP"},{default:h((()=>[g(v(y(G).Title),1)])),_:1})):w("v-if",!0),M(s,{html:y(G).Context,selectable:!0},null,8,["html"])],64)):(p(),f(a,{key:1,class:"flex",style:{width:"750rpx",height:"100px","justify-content":"center","align-items":"center"}},{default:h((()=>[g("暂无数据")])),_:1})),M(y(J),{current:"JGGGMENU"==U.Code?3:0,onReady:K},null,8,["current"])])),_:1},8,["style"])}}},[["__scopeId","data-v-44e902d6"]]);export{U as default};
