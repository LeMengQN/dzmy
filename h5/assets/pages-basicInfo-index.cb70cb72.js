import{r as e,t as l,a,o as t,f as i,g as s,w as n,n as o,u as r,i as c,j as m,ar as d,k as u,l as f,m as p,bs as x,bt as g,bu as h,aY as y,ad as w,aZ as v,af as _,V as D,a0 as b,h as k,bA as P,x as z,y as A,aq as C,ay as N,C as j,a4 as I}from"./index.1a866322.js";import{_ as E}from"./u-icon.1541541b.js";import{o as V,a as F,c as M,r as U}from"./uni-app.es.5638d019.js";import{d as R,j as T,k as B,I as S}from"./methods.10d71805.js";import{u as O}from"./useState.33e874ff.js";import{_ as L}from"./plugin-vue_export-helper.21dcd24c.js";import"./index.0e6263ad.js";var H=L({__name:"index",setup(L){const H=L,J=I.host.api;console.log("路由===>",H);const q=O(["userinfo","MerchantId","islogin","InformationData"]),{MerchantId:G,islogin:Y,InformationData:Z,userinfo:$}=q,K=e({RefuseReason:"",Name:"",Address:"",Mobile:"",Encoder:"",imgPath0:"",imgPath1:"",imgPath2:"",imgPath3:"",imgPath4:"",imgArray:[],getMemberPath:"",NameB:"",IdCard:"",imgPath5:"",imgPath6:"",imgPath7:"",imgPathArr:[],imgArrayB:[],UserId:0,Status:null,inputDisable:!1}),{RefuseReason:Q,Name:W,Address:X,Mobile:ee,Encoder:le,imgPath0:ae,imgPath1:te,imgPath2:ie,imgPath3:se,imgPath4:ne,imgArray:oe,getMemberPath:re,NameB:ce,IdCard:me,imgPath5:de,imgPath6:ue,imgPath7:fe,imgPathArr:pe,imgArrayB:xe,UserId:ge,Status:he,inputDisable:ye}=l(K);function we(e){y({count:1,sizeType:["compressed"],success:l=>{if(l.tempFilePaths&&l.tempFilePaths.length>0){const a=l.tempFilePaths[0];a&&(w({title:"加载中..."}),function(e,l){v({url:`${J}Home/UploadImage`,filePath:l,name:"file",success:l=>{if(_(),200==l.statusCode&&l.data.indexOf("http")>-1){const a=JSON.parse(l.data);a.Result&&(999==e?K.imgPathArr.push(a.Result):K["imgPath"+e]=a.Result)}else D({title:"提示",showCancel:!1,content:l.data,success:()=>{}})},fail:e=>{_(),b({icon:"none",title:"图片上传失败"})}})}(e,a))}},fail:e=>{console.error(JSON.stringify(e))}})}function ve(){if(!K.Name)return void b({title:"机构名称为空",duration:2e3,icon:"none"});if(!K.Address)return void b({title:"机构地址为空",duration:2e3,icon:"none"});if(!K.Mobile||!B(K.Mobile))return void b({title:"手机号码为必填项",duration:2e3,icon:"none"});if(!K.Encoder||!S(K.Encoder))return void b({title:"信用编码错误",duration:2e3,icon:"none"});if(!K.imgPath0)return void b({title:"营业执照未上传",duration:2e3,icon:"none"});if(!K.imgPath3)return void b({title:"机构头像未上传",duration:2e3,icon:"none"});if(!K.NameB)return void b({title:"法人姓名为空",duration:2e3,icon:"none"});if(!K.IdCard)return void b({title:"证件号码为空",duration:2e3,icon:"none"});let e=K.imgPathArr.join(),l=k($.value).id||0,a={MerName:K.Name,MerAddress:K.Address,Mobile:K.Mobile,Encoder:K.Encoder,BusinessLicense:K.imgPath0,FrontAs:K.imgPath1,ShopLOGO:K.imgPath2,Thumbnail:K.imgPath3,SchoolPermi:K.imgPath4,LegName:K.NameB,IdCard:K.IdCard,FrontImg:K.imgPath5,ReverseImg:K.imgPath6,HandIdCardImg:K.imgPath7,AgreementImg:e,UserId:l};console.log("上传信息==>",a),P(a).then((e=>{D({showCancel:!1,title:"提交成功。",success:e=>{console.log("成功")}})})).catch((e=>{}))}function _e(){return!1}return a(""),t((()=>{})),V((()=>{})),F((()=>{console.log("页面出现时")})),M((()=>{console.log("页面准备好时")})),(e,l)=>{const a=U(z("u-icon"),E),t=A,y=c,w=C,v=N,_=j;return i(),s(y,{class:"page",style:o("android"==r(T)()?"padding-bottom: 20rpx;":"")},{default:n((()=>[m(" 审核失败显示 "),-1==r(he)?(i(),s(y,{key:0,class:"shade",onTouchmove:d(_e,["stop","prevent"])},{default:n((()=>[u(y,null,{default:n((()=>[u(a,{name:"info-circle-fill",color:"#E8373D",size:"45"}),u(t,{style:{"font-size":"40rpx","margin-left":"20rpx",color:"#DD524D"}},{default:n((()=>[f("申请被拒绝，建议修改申请")])),_:1})])),_:1}),u(t,{style:{"font-size":"30rpx",color:"#AAAAAA"}},{default:n((()=>[f(p(r(Q)?r(Q):"抱歉，你的申请资料存在不符，请重新核实正确信息填写提交。"),1)])),_:1}),u(w,{onClick:l[0]||(l[0]=e=>he.value=null),type:"warn",style:{color:"#FFFFFF"}},{default:n((()=>[f("重新修改申请")])),_:1})])),_:1},8,["onTouchmove"])):m("v-if",!0),m(" 审核成功显示 "),1==r(he)?(i(),s(y,{key:1,class:"shade",onTouchmove:d(_e,["stop","prevent"])},{default:n((()=>[u(t,{style:{"font-size":"50rpx","text-align":"center",color:"#1AAD19"}},{default:n((()=>[f("恭喜你审核通过!")])),_:1}),u(t,{style:{"font-size":"40rpx",color:"#AAAAAA","margin-top":"15rpx"}},{default:n((()=>[f("恭喜你入驻成功，请你登录机构后台（"+p(r(re))+"xzb/vue/index）上架你的课程或商品",1)])),_:1})])),_:1},8,["onTouchmove"])):m("v-if",!0),m(" 等待审核显示 "),0==r(he)?(i(),s(y,{key:2,class:"shade",onTouchmove:d(_e,["stop","prevent"])},{default:n((()=>[u(t,{style:{"font-size":"50rpx","text-align":"center",color:"#007AFF"}},{default:n((()=>[f("提交成功，等待审核！")])),_:1}),u(t,{style:{"font-size":"40rpx",color:"#AAAAAA","margin-top":"15rpx"}},{default:n((()=>[f("审核通过我们将以短信和消息提醒你，请静候佳音。在此之前无法修改审核信息.")])),_:1})])),_:1},8,["onTouchmove"])):m("v-if",!0),m(" 表单 "),u(y,null,{default:n((()=>[u(y,{class:"position-sticky",style:{color:"#D28588","font-weight":"bold","font-size":"40rpx"}},{default:n((()=>[f("基本信息 ")])),_:1}),u(y,{class:"merName"},{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1"},{default:n((()=>[f("机构名称")])),_:1}),u(v,{disabled:r(ye),class:"font-small flex-1 ml-3",modelValue:r(W),"onUpdate:modelValue":l[1]||(l[1]=e=>x(W)?W.value=e:null),type:"text",placeholder:"请输入机构名称"},null,8,["disabled","modelValue"])])),_:1}),u(y,{class:"merName"},{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1"},{default:n((()=>[f("机构地址")])),_:1}),u(v,{disabled:r(ye),class:"font-small flex-1 ml-3",modelValue:r(X),"onUpdate:modelValue":l[2]||(l[2]=e=>x(X)?X.value=e:null),type:"text",placeholder:"请填写具体店址"},null,8,["disabled","modelValue"])])),_:1}),u(y,{class:"merName"},{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1"},{default:n((()=>[f("手机号码")])),_:1}),u(v,{disabled:r(ye),class:"font-small flex-1 ml-3",modelValue:r(ee),"onUpdate:modelValue":l[3]||(l[3]=e=>x(ee)?ee.value=e:null),type:"number",maxlength:11,placeholder:"将作为系统登录账号"},null,8,["disabled","modelValue"])])),_:1}),u(y,{class:"merName"},{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1"},{default:n((()=>[f("统一信用编码")])),_:1}),u(v,{disabled:r(ye),class:"font-small flex-1 ml-3",modelValue:r(le),"onUpdate:modelValue":l[4]||(l[4]=e=>x(le)?le.value=e:null),type:"text",placeholder:"请输入统一信用编码"},null,8,["disabled","modelValue"])])),_:1}),u(y,{class:"merName flex align-center justify-between"},{default:n((()=>[u(y,null,{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1 white-space-n"},{default:n((()=>[f("营业执照")])),_:1})])),_:1}),u(y,{class:"flex flex-column w-60 align-center"},{default:n((()=>[r(ae)?(i(),s(_,{key:0,src:r(ae),onClick:l[5]||(l[5]=e=>r(R)(r(ae))),style:{width:"150rpx",height:"150rpx","margin-left":"30rpx"}},null,8,["src"])):(i(),s(a,{key:1,name:"camera",color:"#888888",size:"150",onClick:l[6]||(l[6]=e=>r(ye)?"":we(0))})),u(t,{style:{color:"#D1D1D1","font-size":"30rpx"}},{default:n((()=>[f("注意:需要清晰正面照")])),_:1})])),_:1}),g(u(y,{class:"edit color-main",onClick:l[7]||(l[7]=e=>r(ye)?"":we(0))},{default:n((()=>[f("修改")])),_:1},512),[[h,r(ae)]])])),_:1}),m(' <view class="merName flex align-center justify-between">\n                <view>\n                    <u-icon name="star-fill" color="#E8373D" size="26"></u-icon>\n                    <text class="font-small ml-1 white-space-n">门脸照</text>\n                </view>\n\n                <view class="flex flex-column w-60 align-center">\n                    <image :src="imgPath1" @click="bindImage(imgPath1)" v-if="imgPath1"\n                        style="width: 150rpx;height: 150rpx;margin-left: 30rpx;"></image>\n                    <u-icon v-else name="camera" color="#888888" size="150" @click="inputDisable ? \'\' : just(1)">\n                    </u-icon>\n                    <text style="color: #D1D1D1;font-size: 30rpx;">注意:门头完整,包含完整牌匾和门槛(建议正对门面两米拍摄)</text>\n                </view>\n                <view class="edit color-main" @click="inputDisable ? \'\' : just(1)" v-show="imgPath1">修改</view>\n            </view> '),m(' <view class="merName flex align-center justify-between">\n                <view>\n                    <u-icon name="star-fill" color="#E8373D" size="26"></u-icon>\n                    <text class="font-small ml-1 white-space-n">主页展示图</text>\n                </view>\n\n                <view class="flex flex-column w-60 align-center">\n                    <image :src="imgPath2" @click="bindImage(imgPath2)" v-if="imgPath2"\n                        style="width: 150rpx;height: 150rpx;margin-left: 30rpx;"></image>\n                    <u-icon v-else name="camera" color="#888888" size="150" @click="inputDisable ? \'\' : just(2)">\n                    </u-icon>\n                    <text style="color: #D1D1D1;font-size: 30rpx;">展示在App店铺主页顶部</text>\n                </view>\n                <view class="edit color-main" @click="inputDisable ? \'\' : just(2)" v-show="imgPath2">修改</view>\n            </view> '),u(y,{class:"merName flex align-center justify-between"},{default:n((()=>[u(y,null,{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1 white-space-n"},{default:n((()=>[f("机构logo")])),_:1})])),_:1}),u(y,{class:"flex flex-column w-60 align-center"},{default:n((()=>[r(se)?(i(),s(_,{key:0,src:r(se),onClick:l[8]||(l[8]=e=>r(R)(r(se))),style:{width:"150rpx",height:"150rpx","margin-left":"30rpx"}},null,8,["src"])):(i(),s(a,{key:1,name:"camera",color:"#888888",size:"150",onClick:l[9]||(l[9]=e=>r(ye)?"":we(3))})),m(' <text style="color: #D1D1D1;font-size: 30rpx;">展示在官网课程页面的列表</text> ')])),_:1}),g(u(y,{class:"edit color-main",onClick:l[10]||(l[10]=e=>r(ye)?"":we(3))},{default:n((()=>[f("修改")])),_:1},512),[[h,r(se)]])])),_:1}),u(y,{class:"merName flex align-center justify-between"},{default:n((()=>[u(y,null,{default:n((()=>[m(' <u-icon name="star-fill" color="#E8373D" size="26"></u-icon> '),u(t,{class:"font-small ml-1 white-space-n"},{default:n((()=>[f("办学许可证")])),_:1})])),_:1}),u(y,{class:"flex flex-column w-60 align-center"},{default:n((()=>[r(ne)?(i(),s(_,{key:0,src:r(ne),onClick:l[11]||(l[11]=e=>r(R)(r(ne))),style:{width:"150rpx",height:"150rpx","margin-left":"30rpx"}},null,8,["src"])):(i(),s(a,{key:1,name:"camera",color:"#888888",size:"150",onClick:l[12]||(l[12]=e=>r(ye)?"":we(4))})),u(t,{style:{color:"#D1D1D1","font-size":"30rpx"}},{default:n((()=>[f("办学许可证明")])),_:1})])),_:1}),g(u(y,{class:"edit color-main",onClick:l[13]||(l[13]=e=>r(ye)?"":we(4))},{default:n((()=>[f("修改")])),_:1},512),[[h,r(ne)]])])),_:1})])),_:1}),u(y,null,{default:n((()=>[u(y,{class:"position-sticky mt-4",style:{color:"#D28588","font-weight":"bold","font-size":"40rpx"}},{default:n((()=>[f("个人信息 ")])),_:1}),u(y,{class:"merName"},{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1"},{default:n((()=>[f("法人姓名")])),_:1}),u(v,{disabled:r(ye),modelValue:r(ce),"onUpdate:modelValue":l[14]||(l[14]=e=>x(ce)?ce.value=e:null),type:"text",class:"font-small flex-1 ml-3",placeholder:"请输入法人名称"},null,8,["disabled","modelValue"])])),_:1}),u(y,{class:"merName"},{default:n((()=>[u(a,{name:"star-fill",color:"#E8373D",size:"26"}),u(t,{class:"font-small ml-1"},{default:n((()=>[f("身份证号码")])),_:1}),u(v,{disabled:r(ye),maxlength:18,modelValue:r(me),"onUpdate:modelValue":l[15]||(l[15]=e=>x(me)?me.value=e:null),type:"text",class:"font-small flex-1 ml-3",placeholder:"请输入证件号码"},null,8,["disabled","modelValue"])])),_:1}),u(y,{class:"merName flex align-center justify-between"},{default:n((()=>[u(y,null,{default:n((()=>[m(' <u-icon name="star-fill" color="#E8373D" size="26"></u-icon> '),u(t,{class:"font-small ml-1 white-space-n"},{default:n((()=>[f("身份证正面照")])),_:1})])),_:1}),u(y,{class:"flex flex-column w-60 align-center"},{default:n((()=>[r(de)?(i(),s(_,{key:0,src:r(de),onClick:l[16]||(l[16]=e=>r(R)(r(de))),style:{width:"150rpx",height:"150rpx"}},null,8,["src"])):(i(),s(a,{key:1,name:"camera",color:"#888888",size:"150",onClick:l[17]||(l[17]=e=>r(ye)?"":we(5))})),u(t,{style:{color:"#D1D1D1","font-size":"30rpx"}},{default:n((()=>[f("注意:需要清晰正面照")])),_:1})])),_:1}),g(u(y,{class:"edit color-main",onClick:l[18]||(l[18]=e=>r(ye)?"":we(5))},{default:n((()=>[f("修改")])),_:1},512),[[h,r(de)]])])),_:1}),u(y,{class:"merName flex align-center justify-between"},{default:n((()=>[u(y,null,{default:n((()=>[m(' <u-icon name="star-fill" color="#E8373D" size="26"></u-icon> '),u(t,{style:{"font-size":"30rpx","margin-left":"15rpx"}},{default:n((()=>[f("身份证反面照 ")])),_:1})])),_:1}),u(y,{class:"flex flex-column w-60 align-center"},{default:n((()=>[r(ue)?(i(),s(_,{key:0,src:r(ue),onClick:l[19]||(l[19]=e=>r(R)(r(ue))),style:{width:"150rpx",height:"150rpx"}},null,8,["src"])):(i(),s(a,{key:1,name:"camera",color:"#888888",size:"150",onClick:l[20]||(l[20]=e=>r(ye)?"":we(6))})),u(t,{style:{color:"#D1D1D1","font-size":"30rpx"}},{default:n((()=>[f("注意:需要清晰反面照")])),_:1})])),_:1}),g(u(y,{class:"edit color-main",onClick:l[21]||(l[21]=e=>r(ye)?"":we(6))},{default:n((()=>[f("修改")])),_:1},512),[[h,r(ue)]])])),_:1}),u(y,{class:"merName flex align-center justify-between"},{default:n((()=>[u(y,null,{default:n((()=>[m(' <u-icon name="star-fill" color="#E8373D" size="26"></u-icon> '),u(t,{style:{"font-size":"30rpx","margin-left":"15rpx"}},{default:n((()=>[f("手持身份证照")])),_:1})])),_:1}),u(y,{class:"flex flex-column w-60 align-center"},{default:n((()=>[r(fe)?(i(),s(_,{key:0,src:r(fe),onClick:l[22]||(l[22]=e=>r(R)(r(fe))),style:{width:"150rpx",height:"150rpx"}},null,8,["src"])):(i(),s(a,{key:1,name:"camera",color:"#888888",size:"150",onClick:l[23]||(l[23]=e=>r(ye)?"":we(7))})),u(t,{style:{color:"#D1D1D1",width:"450rpx","font-size":"30rpx"}},{default:n((()=>[f("注意:法人手持本人身份证半身照")])),_:1})])),_:1}),g(u(y,{class:"edit color-main",onClick:l[24]||(l[24]=e=>r(ye)?"":we(7))},{default:n((()=>[f("修改")])),_:1},512),[[h,r(fe)]])])),_:1}),m(' <view class="merName flex align-center justify-between">\n                <view>\n                    <u-icon name="star-fill" color="#E8373D" size="26"></u-icon>\n                    <text style="font-size: 30rpx;margin-left: 15rpx;width: 140rpx;">协议照片</text>\n                </view>\n\n                <view class="flex flex-column w-60 align-center">\n                    <view class="flex">\n                        <view class="flex flex-wrap">\n                            <view class="position-relative" v-for="(value, index) in imgPathArr" :key="index">\n                                <image :src="value" @click="bindImage(imgPathArr, index)"\n                                    style="width: 150rpx;height: 150rpx;margin-left: 5rpx;"></image>\n                                <u-icon class="trash_fill" name="trash-fill" color="#fd8b27" size="26"\n                                    @click="inputDisable ? \'\' : deletedImg(index)"></u-icon>\n                            </view>\n                        </view>\n                        <u-icon v-if="imgPathArr.length < 2" name="camera" color="#888888" size="150"\n                            @click="inputDisable ? \'\' : just(999)">\n                        </u-icon>\n                    </view>\n                    <text style="color: #D1D1D1;width: 450rpx;font-size: 30rpx;">注意:用户协议照片需上传(最多两张)</text>\n                </view>\n            </view> ')])),_:1}),u(w,{disabled:r(ye),class:"mt-4",onClick:ve,type:"warn"},{default:n((()=>[f("提交审核")])),_:1},8,["disabled"])])),_:1},8,["style"])}}},[["__scopeId","data-v-ec8d601e"]]);export{H as default};
